from module import ALL_JC, UP_JC, DOWN_JC
from data import PARAMS_ALL


def start_message(name):
    hello_message = (
        f'üëã–ü—Ä–∏–≤–µ—Ç—Å–≤—É—é, {name}!\n\n '
    )
    disclaimer_message = (
        'üí∞üìà –ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã –ø–æ –∞–∫—Ü–∏—è–º —Å –∞–Ω–∞–ª–∏–∑–æ–º —Ä–æ—Å—Ç–∞/–ø–∞–¥–µ–Ω–∏—è.\n\n'
        '–ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—Ç–µ—Å—å —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ '
        '"/info"‚ùóÔ∏è\n\n'
    )
    return hello_message + disclaimer_message


def info_message():
    message = (
        'üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏\n\n'
        'üí∏ –ù–∞—à –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –ú–æ—Å–±–∏—Ä–∂–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —Å '
        '–ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ '
        '—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã –ø–æ –∞–∫—Ü–∏—è–º '
        '(—Ä–æ—Å—Ç –∏–ª–∏ –ø–∞–¥–µ–Ω–∏–µ), —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º —É–≤–µ–ª–∏—á–∏—Ç—å —Å–≤–æ–π –∫–∞–ø–∏—Ç–∞–ª.'
        '\n\n'
        '‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ '
        '–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤–∞—à–∏—Ö '
        '—Ä–µ—à–µ–Ω–∏–π. –ü–æ–º–Ω–∏—Ç–µ –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–∏—Å–∫–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–∞–º–æ–π '
        '–ø—Ä–∏—Ä–æ–¥–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É–∑–Ω–∞—Ç—å –æ —Ä–∏—Å–∫–∞—Ö: "/risk"'
        '\n\n'
        'üí¨ –ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π —Ç–∞–∫ –∂–µ –æ–∑–Ω–∞–∫–æ–º—Ç–µ—Å—å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∏ '
        '–ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞: "/instr".\n\n'
        '‚úçÔ∏è –ê–≤—Ç–æ—Ä (—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫): @Vasilianin\n'
        'ü§ù –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, '
        '–ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π.'
            )
    return message


def risk_message():
    message = (
        'üìä –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∏—Å–∫–∏ (—É—á—Ç–∏—Ç–µ –∏—Ö –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ).\n\n'
        '‚ö†Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ –∑–∞–¥–µ—Ä–µ–∂–µ–∫ –¥–∞–Ω–Ω—ã—Ö, '
        '–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –ú–æ—Å–±–∏—Ä–∂–µ–π. –ü–æ—ç—Ç–æ–º—É –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ '
        '–ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏.\n‚ö†Ô∏è –õ—é–±–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –º–æ–∂–µ—Ç –¥–∞—Ç—å 100% –≥–∞—Ä–∞–Ω—Ç–∏–∏ –Ω–∞ '
        '—Ä–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–æ –∫ —ç—Ç–æ–º—É —Å—Ç—Ä–µ–º–ª—é—Å—å, –ø–æ—ç—Ç–æ–º—É –æ–Ω —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É–µ—Ç—Å—è).'
    )
    return message


def instruction_message():
    message = (
        'üìä –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏: \n\n\n'
        'üëâ –í—ã–≤–æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∞–∫—Ü–∏–π). –ü—Ä–∏–≥–æ–¥–∏—Ç—Å—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π '
        '—Ä–∞–±–æ—Ç—ã: "/counter".\n\n'
        'üëâ –í—ã–≤–æ–¥ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:\n'
        '   "/all_shares 5" --> –í—ã–≤–æ–¥ –ø–µ—Ä–≤—ã—Ö 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n'
        '   "/all_shares 5 10" --> –í—ã–≤–æ–¥ 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø—Ä–æ–ø—É—Å—Ç–∏–≤ –ø–µ—Ä–≤—ã–µ 10.\n'
        '   ---> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞—Ö 10 —à—Ç—É–∫ –∑–∞ —Ä–∞–∑ (–∏–∑-–∑–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–µ—Ç —Å–±–æ–∏—Ç—å).'
        '\n\n'
        'üëâ –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —Ä–æ—Å—Ç–∞ —Ü–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä:\n'
        '   "/up_shares 5" --> –í—ã–≤–æ–¥ –ø–µ—Ä–≤—ã—Ö 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n'
        '   "/up_shares 5 10" --> –í—ã–≤–æ–¥ 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø—Ä–æ–ø—É—Å—Ç–∏–≤ –ø–µ—Ä–≤—ã–µ 10.\n'
        '   ---> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞—Ö 10 —à—Ç—É–∫ –∑–∞ —Ä–∞–∑ (–∏–∑-–∑–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–µ—Ç —Å–±–æ–∏—Ç—å).'
        '\n\n'
        'üëâ –í—ã–≤–æ–¥ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø–∞–¥–µ–Ω–∏—è —Ü–µ–Ω, '
        '–Ω–∞–ø—Ä–∏–º–µ—Ä:\n'
        '   "/down_shares 5" --> –í—ã–≤–æ–¥ –ø–µ—Ä–≤—ã—Ö 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤\n'
        '   "/down_shares 5 10" --> –í—ã–≤–æ–¥ 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –ø—Ä–æ–ø—É—Å—Ç–∏–≤ –ø–µ—Ä–≤—ã–µ 10.'
        '\n   ---> –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞—Ö 10 —à—Ç—É–∫ –∑–∞ —Ä–∞–∑ (–∏–∑-–∑–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–µ—Ç '
        '—Å–±–æ–∏—Ç—å).\n\n'
        'üëâ –í—ã–≤–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∞–∫—Ü–∏–∏ (—Å–º–æ—Ç—Ä–∏—Ç–µ –≥—Ä–∞—Ñ—É "–∫–æ–¥"), –Ω–∞–ø—Ä–∏–º–µ—Ä:\n'
        '   "/shares MFGSP"\n   ---> –ù–µ –∏–º–µ–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã, –≤ –∫–∞–∫–æ–º —Ñ–æ—Ä–º–∞—Ç–µ'
        ' –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∫–æ–¥ –∞–∫—Ü–∏–∏.'
    )
    return message


def counter_message():
    counter = [len(jc.read_api_request()) for jc in [ALL_JC, UP_JC, DOWN_JC]]
    message = (
        'üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∑–µ, –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç.\n\n'
        f'‚ö™Ô∏è –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∞–∫—Ü–∏–π) –≤ –æ–±—â–µ–º —Å–ø–∏—Å–∫–µ: {counter[0]}\n'
        'üîµ –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∞–∫—Ü–∏–π), —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é —Ä–æ—Å—Ç–∞ —Ü–µ–Ω—ã: '
        f'{counter[1]}\n'
        'üî¥ –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∞–∫—Ü–∏–π), —Å –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –ø–∞–¥–µ–Ω–∏—è —Ü–µ–Ω—ã: '
        f'{counter[2]}\n'
    )
    return message


def error_message():
    message = (
        '‚ùóÔ∏è –ß–∏—Ç–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é "/instr".'
    )
    return message


def shares_mess(key, value):
    sym = '‚òëÔ∏è' if key == 'SECID' else 'üî∏'
    if key == 'STATUS_FILTER' and value == '–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ä–æ—Å—Ç–∞':
        sym = '\nüü¢'
    elif key == 'STATUS_FILTER' and value == '–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è':
        sym = '\nüî¥'
    elif key == 'STATUS_FILTER' and value == '—Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ':
        sym = '\nüü°'
    message = f"{sym} {PARAMS_ALL.get(key)}: {value}.\n"
    if key == 'SECID':
        message += '\n'
    return message


def certain_shares(code):
    message = ''
    for data in ALL_JC.read_api_request():
        if data['SECID'] == code:
            data['STATUS_FILTER'] = '—Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ'
            for data_st in UP_JC.read_api_request():
                if data['SECID'] == data_st['SECID']:
                    data['STATUS_FILTER'] = '–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ä–æ—Å—Ç–∞'
            for data_st in DOWN_JC.read_api_request():
                if data['SECID'] == data_st['SECID']:
                    data['STATUS_FILTER'] = '–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è'
            for key, value in data.items():
                if key in PARAMS_ALL.keys():
                    message += shares_mess(key, value)
            break
    return message
