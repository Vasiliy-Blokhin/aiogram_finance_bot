from os import getenv
import sys

from dotenv import load_dotenv
import logging


handler = logging.StreamHandler(sys.stdout)
formater = logging.Formatter(
    '%(name)s, %(funcName)s, %(asctime)s, %(levelname)s - %(message)s.'
)
handler.setFormatter(formater)

load_dotenv()

TOKEN = getenv('BOT_TOKEN')

# IMOEX –¥–∞–Ω–Ω—ã–µ
IMOEX_URL = (
    'http://iss.moex.com/iss/engines/stock/markets/shares/'
    'securities.json?iss.json=extended&iss.meta=off'
)


# Stack market –¥–∞–Ω–Ω—ã–µ. (–ù–µ—Ç –∏–Ω–¥–µ–∫—Å–∞ –ú–æ—Å–±–∏—Ä–∂–∏)
# STACK_MARKET_TOKEN = getenv('STACK_MARKET_TOKEN')
# SM_URL = (
#    f'http://api.marketstack.com/v1/eod?access_key = {STACK_MARKET_TOKEN}'
# )

TYPE_DATA_IMOEX = ['securities', 'marketdata']
NEEDFUL = [
    'SECID', 'SHORTNAME', 'PREVPRICE', 'PREVWAPRICE', 'PREVDATE',
    'STATUS', 'WAPTOPREVWAPRICE', 'UPDATETIME', 'LCURRENTPRICE', 'LAST',
    'PRICEMINUSPREVWAPRICE',
]

FILE_MAIN = 'data_json/api_data.json'
FILE_UP_PRICE = 'data_json/up_in_price.json'
FILE_DOWN_PRICE = 'data_json/down_in_price.json'


def start_message(name):
    hello_message = (
        f'üëã–ü—Ä–∏–≤–µ—Ç—Å–≤—É—é, {name}!\n\n '
    )
    disclaimer_message = (
        'üí∞üìà –ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã –ø–æ –∞–∫—Ü–∏—è–º —Å –∞–Ω–∞–ª–∏–∑–æ–º —Ä–æ—Å—Ç–∞/–ø–∞–¥–µ–Ω–∏—è.\n\n'
        '–ü–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—Ç–µ—Å—å —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ '
        '"/info"‚ùóÔ∏è\n\n'
    )
    return hello_message + disclaimer_message


def info_message():
    message = ('üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏\n\n'
               'üí∏ –ù–∞—à –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å –ú–æ—Å–±–∏—Ä–∂–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —Å '
               '–ø–æ–º–æ—â—å—é –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ '
               '—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã –ø–æ –∞–∫—Ü–∏—è–º '
               '(—Ä–æ—Å—Ç –∏–ª–∏ –ø–∞–¥–µ–Ω–∏–µ), —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º —É–≤–µ–ª–∏—á–∏—Ç—å —Å–≤–æ–π –∫–∞–ø–∏—Ç–∞–ª.'
               '\n\nüìà –ë—É–¥—å—Ç–µ –≤ –∫—É—Ä—Å–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Ç—Ä–µ–Ω–¥–æ–≤ –¥–ª—è '
               '–ø—Ä–∏–Ω—è—Ç–∏—è –≤–∑–≤–µ—à–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π.\n\n'
               'üèÜ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π '
               '–∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.\n\n'
               '‚ö†Ô∏è –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ '
               '–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –≤–∞—à–∏—Ö '
               '—Ä–µ—à–µ–Ω–∏–π. –ü–æ–º–Ω–∏—Ç–µ –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–∏—Å–∫–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Å–∞–º–æ–π '
               '–ø—Ä–∏—Ä–æ–¥–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏.'
               '\n\n‚úçÔ∏è –ê–≤—Ç–æ—Ä (—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫): @Vasilianin\n'
               'ü§ù –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, '
               '–ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π.')
    return message
